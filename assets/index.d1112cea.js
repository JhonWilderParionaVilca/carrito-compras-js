const t=document.getElementById("lista-cursos"),e=document.getElementById("carrito").querySelector("#lista-carrito tbody"),n=document.getElementById("vaciar-carrito");let r=[];function i(t){t.preventDefault(),r=[],d(e)}function c(t){const n=o(t,"agregar-carrito");if(!n)return;const i=function(t,e){let n=[...e];const{id:r}=t;!function(t,e){return e.some((e=>e.id===t))}(r,n)?n=[...n,t]:n.forEach((t=>{t.id===r&&t.quantity++}));return n}(function(t){const e=t.parentElement.parentElement;return{img:e.querySelector("img").src,title:e.querySelector("h4").textContent,price:e.querySelector(".precio span").textContent,id:t.getAttribute("data-id"),quantity:1}}(n),r);r=[...i],a(r,e)}function o(t,e){if(t.target.classList.contains(e))return t.preventDefault(),t.target}function a(t,e){d(e),t.forEach((t=>{const n=document.createElement("tr"),{img:r,title:i,price:c,quantity:o,id:a}=t;n.innerHTML=`\n    <td><img src=${r} width="100"/></td>\n    <td>${i}</td>\n    <td>${c}</td>\n    <td>${o}</td>\n    <td><a href="#" class="borrar-curso" data-id=${a}>x</a></td>\n  `,e.appendChild(n)}))}function d(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function u(t){const n=o(t,"borrar-curso");if(!n)return;const i=n.getAttribute("data-id");var c,d;d=i,(c=r).filter(((t,e)=>(t.id===d&&(t.quantity>1?t.quantity--:c.splice(e,1)),t))),a(r,e)}t.addEventListener("click",c),n.addEventListener("click",i),e.addEventListener("click",u);
